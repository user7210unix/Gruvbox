# GENERAL
# ---
# System path.
export PATH="${HOME}/.cargo/bin:${HOME}/.local/bin:${PATH}"
# Editor
export EDITOR="emacsclient -t -a ''"
export VISUAL="emacsclient -c -a emacs"
# ---
# Installation directory path.
export ZSH="${HOME}/.oh-my-zsh"
# Theme to load.
#ZSH_THEME='ar-round'
#ZSH_THEME='eastwood'
# Highlight styling for zsh-autosuggestions.
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=8'
# Display red dots whilst waiting for completion.
COMPLETION_WAITING_DOTS='true'
# Disable marking untracked files under VCS as dirty.
DISABLE_UNTRACKED_FILES_DIRTY='true'
# Disable automatic updates.
zstyle ':omz:update' mode disabled
# Plugins to load.
plugins=(bgnotify git zsh-autosuggestions zsh-completions fast-syntax-highlighting)
# Always append history.
setopt INC_APPEND_HISTORY
# Execute OMZ.
source "${ZSH}/oh-my-zsh.sh"
# Speeds up pasting when using zsh-autosuggestions.
# See "https://github.com/zsh-users/zsh-autosuggestions/issues/238".
paste_init()
{
    OLD_SELF_INSERT="${${(s.:.)widgets[self-insert]}[2,3]}"
    zle -N self-insert url-quote-magic # I wonder if you'd need ".url-quote-magic"?
}
paste_done()
{
    zle -N self-insert "$OLD_SELF_INSERT"
}
zstyle :bracketed-paste-magic paste-init paste_init
zstyle :bracketed-paste-magic paste-finish paste_done

# ╔═══════════════════════════════════════════════════════════╗
# ║                    CUSTOM PROMPT                          ║
# ╚═══════════════════════════════════════════════════════════╝
# Enable prompt substitution
setopt PROMPT_SUBST

# Gruvbox colors
GRUVBOX_FG="#ebdbb2"
GRUVBOX_BG="#282828"
GRUVBOX_RED="#fb4934"
GRUVBOX_GREEN="#b8bb26"
GRUVBOX_YELLOW="#fabd2f"
GRUVBOX_BLUE="#83a598"
GRUVBOX_PURPLE="#d3869b"
GRUVBOX_AQUA="#8ec07c"
GRUVBOX_GRAY="#928374"
GRUVBOX_ORANGE="#fe8019"

# Return code indicator
return_status() {
    echo "%(?..%F{$GRUVBOX_RED}  %f)"
}

# Build the prompt
PROMPT='%F{$GRUVBOX_BLUE}  %f%F{$GRUVBOX_AQUA}%~%f $(git_prompt_info)$(return_status)
%F{$GRUVBOX_ORANGE}❯%f '

# Right prompt with time
RPROMPT='%F{$GRUVBOX_GRAY}%*%f'

# ╔═══════════════════════════════════════════════════════════╗
# ║                       ALIASES                             ║
# ╚═══════════════════════════════════════════════════════════╝
# File operations
#alias fetch='neofetch'
alias ls='ls --color=auto'
#alias tree='exa --long --tree'
alias c='clear'
alias grep='grep --color=auto'
# System
#alias sudo='doas'
alias off='poweroff'
alias ema='emacs -nw'
alias chrome-de='LANG=de-DE.UTF-8 chromium'
alias btop='glances'
alias langde='setxkbmap de'
alias langus='setxkbmap us'
alias merge='xrdb ~/.Xresources'
# Package management
alias install='sudo apt install -y'
alias search='sudo apt search'
alias update='sudo apt update && sudo apt upgrade -y'
alias remove='sudo apt remove'
# Git shortcuts
alias gs='git status'
alias ga='git add'
alias gc='git commit -m'
alias gp='git push'
alias gl='git pull'
alias gd='git diff'
alias gco='git checkout'
alias clone='git clone --depth 1'
# Development
alias py='python3'
alias pip='pip3'
alias serve='python3 -m http.server'
